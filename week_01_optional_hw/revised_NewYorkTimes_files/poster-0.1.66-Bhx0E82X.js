import{c as h,u as P,p as m,_ as d,e as u}from"./betamax-shared-CtfXo_g9.js";const y="_underVideo_1gq9o_13",_="_poster_1gq9o_18",g="_fullscreen_1gq9o_18",v="_hidePoster_1gq9o_23",s={underVideo:y,poster:_,fullscreen:g,hidePoster:v};function f(e){return"sizes"in e&&"srcset"in e}const b="nyt-betamax-poster";function E(e){var r,t;const a=null==(r=P("nyt-betamax"))?void 0:r.player;if(!a)throw new Error("Could not get player context. Is this rendering inside a betamax component?");if(!e.url)throw new Error("url is required");const i=new URL(e.url);"static01.nyt.com"===i.host&&!1===i.searchParams.has("quality")&&(i.searchParams.set("format","pjpg"),i.searchParams.set("quality","30"),i.searchParams.set("auto","webp"),i.searchParams.set("disable","upscale")),a.visibleOnPageLoad&&(f(e)||m({as:"image",href:i.href,rel:"preload"}),e.fetchpriority||(e.fetchpriority="high"));const o=e.fetchpriority&&"auto"!==e.fetchpriority?e.fetchpriority:void 0,l=e.renderUnderVideo||a.hasEverPlayed.value,n=!a.hasEverPlayed.value||((null==(t=a.autoplayBlocked)?void 0:t.value)??!1),c=e.crossOrigin??void 0;return f(e)?d("img",{alt:e.alt||void 0,crossOrigin:c,className:u(s.poster,{[s.underVideo]:!e.disablePlayStateRender&&l,[s.fullscreen]:a.fullscreen.value,[s.hidePoster]:!e.disablePlayStateRender&&!n}),src:i.href,"data-testid":"betamax-poster",sizes:e.sizes,srcSet:e.srcset,fetchPriority:o}):d("img",{alt:e.alt||void 0,crossOrigin:c,className:u(s.poster,{[s.underVideo]:!e.disablePlayStateRender&&l,[s.fullscreen]:a.fullscreen.value,[s.hidePoster]:!e.disablePlayStateRender&&!n}),src:i.href,"data-testid":"betamax-poster",fetchPriority:o})}const R=h(b,{"css":["https://static01.nyt.com/video-static/betamax/poster-0.1.66-BWilSOp8.css"],"js":[{"src":"https://static01.nyt.com/video-static/betamax/poster-0.1.66-Bhx0E82X.js","entry":true},{"src":"https://static01.nyt.com/video-static/betamax/betamax-shared-CtfXo_g9.js","entry":false}]},E);export{R as Poster,b as TAG_NAME};
//# sourceMappingURL=poster-0.1.66-Bhx0E82X.js.map